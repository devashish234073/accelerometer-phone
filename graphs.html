<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graph</title>
    <style>
        canvas {
            display: block;
            height: 200px;
            width: 100vw;
            border: 1px solid black;
        }
        table{
            margin-left: auto;
            margin-right: auto;
            border-collapse:collapse;
        }
        table td{
            border: 1px solid black;
        }
    </style>
</head>

<body>
    X<canvas id="x"></canvas><br>
    Y<canvas id="y"></canvas><br>
    Z<canvas id="z"></canvas><br>
    <table>
        <tr>
            <td></td>
            <td>Min Val</td>
            <td>Max Val</td>
            <td>Plotted Min Val</td>
            <td>Plotted Max Val</td>
        </tr>
        <tr>
            <td>X</td>
            <td id="mnX"></td>
            <td id="mxX"></td>
            <td id="pltmnX"></td>
            <td id="pltmxX"></td>
        </tr>
        <tr>
            <td>Y</td>
            <td id="mnY"></td>
            <td id="mxY"></td>
            <td id="pltmnY"></td>
            <td id="pltmxY"></td>
        </tr>
        <tr>
            <td>Z</td>
            <td id="mnZ"></td>
            <td id="mxZ"></td>
            <td id="pltmnZ"></td>
            <td id="pltmxZ"></td>
        </tr>
    </table>
    <script>
        var data = "[]";
        //var data = `[{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"},{"x":"12","y":"23","z":"34"}]`;
        function _(selector) {
            return document.querySelector(selector);
        }
        var obj = JSON.parse(data);
        var mnX = _("#mnX");
        var mxX = _("#mxX");
        var mnY = _("#mnY");
        var mxY = _("#mxY");
        var mnZ = _("#mnZ");
        var mxZ = _("#mxZ");
        var pltmnX = _("#pltmnX");
        var pltmxX = _("#pltmxX");
        var pltmnY = _("#pltmnY");
        var pltmxY = _("#pltmxY");
        var pltmnZ = _("#pltmnZ");
        var pltmxZ = _("#pltmxZ");
        var maxX = -100000.0;
        var maxY = -100000.0;
        var maxZ = -1000000.0;
        var minX = 100000.0;
        var minY = 100000.0;
        var minZ = 100000.0;
        for (var i = 0; i < obj.length; i++) {
            var x = parseFloat(obj[i].x);
            var y = parseFloat(obj[i].y);
            var z = parseFloat(obj[i].z);
            if (x > maxX) {
                maxX = x;
            }
            if (x < minX) {
                minX = x;
            }
            if (y > maxY) {
                maxY = y;
            }
            if (y < minY) {
                minY = y;
            }
            if (z > maxZ) {
                maxZ = z;
            }
            if (z < minZ) {
                minZ = z;
            }
        }
        mnX.innerText = minX;
        mxX.innerText = maxX;
        mnY.innerText = minY;
        mxY.innerText = maxY;
        mnZ.innerText = minZ;
        mxZ.innerText = maxZ;
        pltmnX.innerText = getPlottedY(maxX,minX,minX,_("#x").height);
        pltmxX.innerText = getPlottedY(maxX,minX,maxX,_("#x").height);
        pltmnY.innerText = getPlottedY(maxY,minY,minY,_("#y").height)
        pltmxY.innerText = getPlottedY(maxY,minY,maxY,_("#y").height);
        pltmnZ.innerText = getPlottedY(maxZ,minZ,minZ,_("#z").height);
        pltmxZ.innerText = getPlottedY(maxZ,minZ,maxZ,_("#z").height);
        console.log(`${minX},${maxX} ${minY},${maxY} ${minZ},${maxZ}`);
        for (var i = 0; i < obj.length; i++) {
            plotX(i,obj[i].x);
            plotY(i,obj[i].y);
            plotZ(i,obj[i].z);
        }
        function plotX(ii,x) {
            plot(ii,x, minX, maxX, "x", "red");
        }
        function plotY(ii,y) {
            plot(ii,y, minY, maxY, "y", "green");
        }
        function plotZ(ii,z) {
            plot(ii,z, minZ, maxZ, "z", "blue");
        }
        function plot(ii,value, min, max, id, clr) {
            var canvas = document.getElementById(id);
            var canvasWidth = canvas.width;
            var canvasHeight = canvas.height;
            var xVal = getPlottedX(ii,obj,canvasWidth);
            var yVal = getPlottedY(max,min,value,canvasHeight);
            var ctx = canvas.getContext("2d");
            ctx.beginPath();
            ctx.strokeStyle = clr;
            ctx.arc(xVal,yVal, 5, 1, 0, 2 * Math.PI, true);
            ctx.stroke();
        }
        function getPlottedX(ii,obj,canvasWidth) {
            return ((obj.length - ii)/obj.length)*canvasWidth;
        }
        function getPlottedY(max,min,value,canvasHeight) {
            return canvasHeight - (((max-value)/(max-min))*canvasHeight);
        }
    </script>
</body>

</html>
